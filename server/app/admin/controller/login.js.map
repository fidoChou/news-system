{
    "version": 3,
    "sources": [
        "../../../src/admin/controller/login.js"
    ],
    "names": [
        "indexAction",
        "name",
        "get",
        "pwd",
        "model",
        "getUserinfo",
        "res",
        "think",
        "isEmpty",
        "fail",
        "password",
        "session",
        "success"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;AAEE;;;;mBAIMA,W;;;;;;;AACAC,kB,GAAO,KAAKC,GAAL,Q,EACPC,G,GAAO,KAAKD,GAAL,Y;;qBACM,KAAKE,KAAL,UAAoBC,WAApB,CAAgCJ,IAAhC,C;;;AAAbK,iB;;mBACAC,MAAMC,OAAN,CAAcF,GAAd,C;;;;;+CACK,KAAKG,IAAL,CAAU,CAAC,CAAX,qD;;;oBAEAN,QAAOG,IAAI,CAAJ,EAAOI,Q;;;;;+CACd,KAAKD,IAAL,CAAU,CAAC,CAAX,qD;;;;qBAGD,KAAKE,OAAL,CAAa,UAAb,EAAwBL,GAAxB,C;;;+CACC,KAAKM,OAAL,CAAaN,GAAb,C",
    "file": "../../../src/admin/controller/login.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\n// | NEWS [ 新闻网站管理系统 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) inkzhou@gmail.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: zhouying <inkzhou@gmail.com>\n// +----------------------------------------------------------------------\n'use strict';\n\nimport Base from './base.js';\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  async indexAction(){\n    let name = this.get( `name`),\n        pwd  = this.get(`password`)\n    let res  = await this.model(`admin`).getUserinfo(name);\n    if( think.isEmpty(res) ){\n      return this.fail(-1,`该用户不是管理员`);\n    }\n    else if (pwd!== res[0].password){\n      return this.fail(-2,`用户名或密码错误`);      \n    }\n    else {\n      await this.session(\"userInfo\",res)\n      return this.success(res)  \n    }\n    \n  }\n}"
    ]
}